<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Other Packages: · ChemometricsTools</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>ChemometricsTools</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">Home</a></li><li><span class="toctext">Demos</span><ul><li><a class="toctext" href="../Transforms/">Transforms</a></li><li><a class="toctext" href="../Pipelines/">Pipelines</a></li><li><a class="toctext" href="../ClassificationExample/">Classification</a></li><li><a class="toctext" href="../RegressionExample/">Regression</a></li><li><a class="toctext" href="../SIPLS/">SIPLS</a></li><li><a class="toctext" href="../CalibXfer/">Calibration Transfer</a></li><li><a class="toctext" href="../CurveResolution/">Curve Resolution</a></li></ul></li><li><span class="toctext">Data</span><ul><li><a class="toctext" href="../../man/datautils/">Data Utilities</a></li><li><a class="toctext" href="../../man/kerneldensity/">Kernel Density Generator</a></li></ul></li><li><span class="toctext">Manipulations</span><ul><li><a class="toctext" href="../../man/Preprocess/">Preprocessing</a></li><li><a class="toctext" href="../../man/Transformations/">Transformations/Pipelines</a></li><li><a class="toctext" href="../../man/Sampling/">Sampling</a></li></ul></li><li><span class="toctext">Visualizations</span><ul><li><a class="toctext" href="../../man/Plotting/">Plotting</a></li></ul></li><li><span class="toctext">Analysis</span><ul><li><a class="toctext" href="../../man/DOE/">DOE</a></li><li><a class="toctext" href="../../man/Univariate/">Univariate</a></li><li><a class="toctext" href="../../man/Dists/">Distances/Kernels</a></li><li><a class="toctext" href="../../man/Analysis/">Analysis</a></li><li><a class="toctext" href="../../man/Clustering/">Clustering</a></li><li><a class="toctext" href="../../man/Stats/">Stats.</a></li></ul></li><li><span class="toctext">Modeling</span><ul><li><a class="toctext" href="../../man/Training/">Training</a></li><li><a class="toctext" href="../../man/TimeSeries/">Time Series</a></li><li><a class="toctext" href="../../man/RegressionModels/">Regression Models</a></li><li><a class="toctext" href="../../man/regressMetrics/">Regression Metrics</a></li><li><a class="toctext" href="../../man/ClassificationModels/">Classification Models</a></li><li><a class="toctext" href="../../man/classMetrics/">Classification Metrics</a></li><li><a class="toctext" href="../../man/Trees/">Tree Methods</a></li><li><a class="toctext" href="../../man/Ensemble/">Ensemble Models</a></li></ul></li><li><span class="toctext">Speciality Tools</span><ul><li><a class="toctext" href="../../man/modelanaly/">Model Analysis</a></li><li><a class="toctext" href="../../man/MultiWay/">MultiWay</a></li><li><a class="toctext" href="../../man/Hyperspectral/">Hyperspectral</a></li><li><a class="toctext" href="../../man/AnomalyDetection/">Anomaly Detection</a></li><li><a class="toctext" href="../../man/CurveResolution/">Curve Resolution</a></li></ul></li><li><span class="toctext">Advanced</span><ul><li><a class="toctext" href="../../man/PSO/">PSO</a></li><li><a class="toctext" href="../../man/GeneticAlgorithms/">Genetic Algorithms</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Other Packages:</a></li></ul><a class="edit-page" href="https://github.com/caseykneale/ChemometricsTools.jl/blob/master/docs/src/Demos/OtherPackages.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Other Packages:</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Other-Packages:-1" href="#Other-Packages:-1">Other Packages:</a></h1><p>So you know what you&#39;re doing, you&#39;re not one of those Friday night chemometricians Brereton talked about, and you want to compare some methods available in ChemometricsTools.jl. Great! The nice thing about Julia is, packages tend to work with one another with zero effort. To demonstrate this I made a little tutorial using (Turing.jl)[https://turing.ml/dev/] and (ChemometricsData.jl)[https://github.com/caseykneale/ChemometricsData.jl] for a very basic incomplete analysis of some well known bayesian regression methods. Let&#39;s get started.</p><h2><a class="nav-anchor" id="Lets-load-in-some-data-1" href="#Lets-load-in-some-data-1">Lets load in some data</a></h2><pre><code class="language-julia">using Turing, StatsPlots, Plots, Statistics
using DataFrames, ChemometricsData

println( ChemometricsData.search(&quot;corn&quot;) )
corn_data = ChemometricsData.load(&quot;Cargill_Corn&quot;)
X = Matrix(corn_data[&quot;m5_spectra.csv&quot;])

xaxis = 1100:2:2498#nm

plot( X&#39;, title = &quot;Cargill Corn M5 Spec&quot;, xlab = &quot;Wavelength (nm)&quot;, ylab = &quot;Absorbance&quot;, legend = false,
        xticks = (1:50:length(xaxis), xaxis[1:50:end]) )</code></pre><p><img src="https://raw.githubusercontent.com/caseykneale/ChemometricsTools/master/images/BayesDemo/CornSpectra.png" alt="CornEDA"/></p><p>Grab our property values,</p><pre><code class="language-julia">Y = corn_data[&quot;property_values.csv&quot;][!,:Moisture]</code></pre><p>Now let&#39;s center and scale our X and Y values to keep our regression methods happy</p><pre><code class="language-julia">train, test = 1:35, 36:80
X_train, X_test = X_processed[train,:], X_processed[test,:]
μx,σx = mean(X_train, dims = 1), std(X_train, dims = 1)
X_train = (X_train .- μx) ./ σx
X_test = (X_test .- μx) ./ σx

Y_train, Y_test = Y[train,:], Y[test,:]
μy,σy = mean(Y_train),std(Y_train)
Y_train = (Y_train .- μy) ./ σy
Y_test = (Y_test .- μy) ./ σy</code></pre><p><img src="https://raw.githubusercontent.com/caseykneale/ChemometricsTools/master/images/CV.png" alt="20folds"/></p><p>That&#39;s great right? but, hey that was kind of slow. Knowing what we know about ALS based models, we can do the same operation in linear time with respect to latent factors by computing the most latent variables first and only recomputing the regression coefficients. An example of this is below,</p><pre><code class="language-julia"></code></pre><p>This approach is ~5 times faster on a single core( &lt; 2 seconds), pours through 7Gb less data, and makes 1/5th the allocations (on this dataset at least). If you wanted you could distribute the inner loop (using Distributed.jl) and see drastic speed ups!</p><footer><hr/></footer></article></body></html>
